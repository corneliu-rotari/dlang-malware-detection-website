import { HttpClient } from '@angular/common/http';
import { Component } from '@angular/core';
import { catchError } from 'rxjs';

@Component({
  selector: 'app-auth',
  templateUrl: './auth.component.html',
  styleUrls: ['./auth.component.scss']
})
export class AuthComponent {

  mess: string | undefined = ""

  constructor(private _http : HttpClient) {}

  onPress() {
    this._http.post("http://localhost:8080/api/v1/signup",{
      "username": "edi366",
      "userEmail": "skfssssfkeg@dgggd.com",
      "password": "123123123"
  }, {observe : "response"}).subscribe( {next : mess => {
    console.log(mess);
    this.mess = mess.body?.toString();
  },
  error : er => {
    console.log(er.error.statusMessage);
    this.mess = er.error.statusMessage;
    alert(this.mess)
  }}
  )
  }
}
